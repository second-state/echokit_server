# EchoKit Server Setup Guide

**Generated:** {{TIMESTAMP}}
**Assistant Type:** {{ASSISTANT_TYPE}}

---

## üìã Configuration Summary

Your EchoKit server is configured with:

- **ASR:** {{ASR_NAME}} ({{ASR_MODEL}})
- **TTS:** {{TTS_NAME}} ({{TTS_VOICE}})
- **LLM:** {{LLM_NAME}} ({{LLM_MODEL}})

---

## üîë API Keys Setup

### 1. {{ASR_NAME}}

1. Get API key from: {{ASR_API_URL}}
2. Edit `config.toml`:
   ```toml
   [asr]
   api_key = "PASTE_YOUR_KEY_HERE"
   ```

### 2. {{TTS_NAME}}

1. Get API key from: {{TTS_API_URL}}
2. Edit `config.toml`:
   ```toml
   [tts]
   api_key = "PASTE_YOUR_KEY_HERE"
   ```

### 3. {{LLM_NAME}}

1. Get API key from: {{LLM_API_URL}}
2. Edit `config.toml`:
   ```toml
   [llm]
   api_key = "PASTE_YOUR_KEY_HERE"
   ```

---

## üöÄ Running the Server

```bash
# 1. Navigate to echokit_server
cd echokit_server

# 2. Build the server
cargo build --release

# 3. Enable logging
export RUST_LOG=debug

# 4. Run in background
nohup ./target/release/echokit_server &

# 5. Check logs
tail -f nohup.out
```

Expected output:
```
[INFO] EchoKit server listening on 0.0.0.0:8080
```

---

## üîå Connecting Your Device

Your EchoKit device should connect to:

```
ws://YOUR_IP_ADDRESS:8080/ws
```

**Find your IP address:**
- **macOS:** System Settings ‚Üí Network
- **Linux:** `hostname -I` or `ip addr show`
- **Windows:** `ipconfig`

‚ö†Ô∏è **Important:** Don't use `localhost` or `127.0.0.1` - your device needs your actual network IP address!

---

{{#MCP_ENABLED}}
## üì¶ MCP Server Configuration

MCP server is enabled. See `mcp_server.toml` for configuration.

**Setup:**
1. Review `mcp_server.toml`
2. Configure allowed paths/operations as needed
3. Restart EchoKit server to apply MCP settings
{{/MCP_ENABLED}}

{{#MCP_DISABLED}}
## üì¶ MCP Server

No MCP server configured.
{{/MCP_DISABLED}}

---

## üß™ Testing the Connection

```bash
# Using websocat or similar WebSocket client
websocat ws://localhost:8080/ws

# Or test with curl (HTTP endpoint)
curl http://localhost:8080/health
```

---

## üÜò Troubleshooting

### Server won't start

**Check:**
- [ ] API keys are valid and correctly pasted
- [ ] Network connectivity to API endpoints
- [ ] Check `nohup.out` for error messages
- [ ] Port 8080 is not already in use

### Device can't connect

**Check:**
- [ ] Device and server on same network
- [ ] Using actual IP address (not localhost)
- [ ] Firewall not blocking port 8080
- [ ] Server is running (check with `ps aux | grep echokit_server`)

### Poor performance

**Try:**
- Different model settings in config.toml
- Check network latency to API endpoints
- Consider using local models (if available)
- Reduce `history` value in LLM config

### API errors

**Check:**
- [ ] API keys have required permissions
- [ ] Account has available credits/quota
- [ ] URL endpoints are correct
- [ ] Model names are supported

---

## üìö Resources

- [EchoKit Documentation](https://echokit.dev)
- [EchoKit Server Repository](https://github.com/second-state/echokit_server)
- [Report Issues](https://github.com/second-state/echokit_server/issues)

---

## üîÑ Updating Configuration

To change settings:

1. Edit `config.toml`
2. Restart server:
   ```bash
   pkill echokit_server
   nohup ./target/release/echokit_server &
   ```

---

## üìñ Advanced Configuration

### Changing server port
Edit `config.toml`:
```toml
addr = "0.0.0.0:9090"  # Use port 9090 instead
```

### Adjusting LLM history
```toml
[llm]
history = 10  # Remember last 10 messages (default: 5)
```

### Custom system prompt
Edit the `[[llm.sys_prompts]]` section in `config.toml`.

---

**Generated by [EchoKit Config Generator](https://github.com/second-state/echokit_server)**

**Need help?** Open an issue on GitHub or check the EchoKit documentation.
